{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/waffle/Desktop/turing/mod3/projects/rancid/src/components/App/App.js\";\nimport React, { Component } from 'react';\nimport Header from '../Header/Header';\nimport Movies from '../Movies/Movies';\nimport Film from '../Film/Film';\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.goHome = () => {\n      this.setState({\n        currentMovie: '',\n        isHome: true\n      });\n    };\n\n    this.selectMovie = event => {\n      this.setState({\n        currentMovie: event.target.closest('article').id,\n        isHome: false\n      });\n    };\n\n    this.state = {\n      movies: [],\n      currentMovie: '',\n      isHome: true,\n      isLoading: true,\n      error: false\n    };\n  }\n\n  componentDidMount() {\n    fetch('https://rancid-tomatills.herokuapp.com/api/v2/movies').then(response => response.json()).then(films => {\n      console.log(films);\n\n      if (films) {\n        this.setState({\n          movies: films.movies,\n          isLoading: false\n        });\n      }\n    }).catch(error => this.setState({\n      isLoading: false,\n      error: true\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        goHome: this.goHome\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [this.state.isLoading && /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Please wait...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 36\n        }, this), this.state.error && /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDCA5We are having a technical difficulty.\\uD83D\\uDCA5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 32\n        }, this), !this.state.isHome ? /*#__PURE__*/_jsxDEV(Film, {\n          currentMovie: this.state.currentMovie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Movies, {\n          movies: this.state.movies,\n          selectMovie: this.selectMovie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/waffle/Desktop/turing/mod3/projects/rancid/src/components/App/App.js"],"names":["React","Component","Header","Movies","Film","App","constructor","goHome","setState","currentMovie","isHome","selectMovie","event","target","closest","id","state","movies","isLoading","error","componentDidMount","fetch","then","response","json","films","console","log","catch","render"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAO,WAAP;;AAEA,MAAMC,GAAN,SAAkBJ,SAAlB,CAA4B;AAC1BK,EAAAA,WAAW,GAAG;AACZ;;AADY,SAuBdC,MAvBc,GAuBL,MAAM;AACb,WAAKC,QAAL,CAAc;AAAEC,QAAAA,YAAY,EAAE,EAAhB;AAAoBC,QAAAA,MAAM,EAAE;AAA5B,OAAd;AACD,KAzBa;;AAAA,SA2BdC,WA3Bc,GA2BCC,KAAD,IAAW;AACvB,WAAKJ,QAAL,CAAc;AAAEC,QAAAA,YAAY,EAAEG,KAAK,CAACC,MAAN,CAAaC,OAAb,CAAqB,SAArB,EAAgCC,EAAhD;AAAoDL,QAAAA,MAAM,EAAE;AAA5D,OAAd;AACD,KA7Ba;;AAEZ,SAAKM,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE,EADG;AAEXR,MAAAA,YAAY,EAAE,EAFH;AAGXC,MAAAA,MAAM,EAAE,IAHG;AAIXQ,MAAAA,SAAS,EAAE,IAJA;AAKXC,MAAAA,KAAK,EAAE;AALI,KAAb;AAOD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,KAAK,CAAC,sDAAD,CAAL,CACGC,IADH,CACQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADpB,EAEGF,IAFH,CAEQG,KAAK,IAAI;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;;AACA,UAAGA,KAAH,EAAU;AACR,aAAKjB,QAAL,CAAc;AAACS,UAAAA,MAAM,EAAEQ,KAAK,CAACR,MAAf;AAAuBC,UAAAA,SAAS,EAAE;AAAlC,SAAd;AACD;AACF,KAPH,EAQGU,KARH,CAQST,KAAK,IAAI,KAAKX,QAAL,CAAc;AAACU,MAAAA,SAAS,EAAC,KAAX;AAAkBC,MAAAA,KAAK,EAAE;AAAzB,KAAd,CARlB;AASD;;AAUDU,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE,QAAC,MAAD;AAAQ,QAAA,MAAM,EAAE,KAAKtB;AAArB;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,mBACG,KAAKS,KAAL,CAAWE,SAAX,iBAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAD3B,EAEG,KAAKF,KAAL,CAAWG,KAAX,iBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFvB,EAGG,CAAC,KAAKH,KAAL,CAAWN,MAAZ,gBACG,QAAC,IAAD;AAAM,UAAA,YAAY,EAAE,KAAKM,KAAL,CAAWP;AAA/B;AAAA;AAAA;AAAA;AAAA,gBADH,gBAEG,QAAC,MAAD;AACE,UAAA,MAAM,EAAE,KAAKO,KAAL,CAAWC,MADrB;AAEE,UAAA,WAAW,EAAE,KAAKN;AAFpB;AAAA;AAAA;AAAA;AAAA,gBALN;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA,oBADF;AAgBD;;AAjDyB;;AAoD5B,eAAeN,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport Header from '../Header/Header';\nimport Movies from '../Movies/Movies';\nimport Film from '../Film/Film';\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      movies: [],\n      currentMovie: '',\n      isHome: true,\n      isLoading: true,\n      error: false\n    }\n  }\n\n  componentDidMount() {\n    fetch('https://rancid-tomatills.herokuapp.com/api/v2/movies')\n      .then(response => response.json())\n      .then(films => {\n        console.log(films);\n        if(films) {\n          this.setState({movies: films.movies, isLoading: false})\n        }\n      })\n      .catch(error => this.setState({isLoading:false, error: true}))\n  }\n\n  goHome = () => {\n    this.setState({ currentMovie: '', isHome: true})\n  }\n\n  selectMovie = (event) => {\n    this.setState({ currentMovie: event.target.closest('article').id, isHome: false });\n  }\n\n  render() {\n    return (\n      <>\n        <Header goHome={this.goHome}/>\n        <div className=\"App\">\n          {this.state.isLoading && <h2>Please wait...</h2>}\n          {this.state.error && <h2>ðŸ’¥We are having a technical difficulty.ðŸ’¥</h2>}\n          {!this.state.isHome\n            ? <Film currentMovie={this.state.currentMovie} />\n            : <Movies\n                movies={this.state.movies}\n                selectMovie={this.selectMovie}\n              />\n          }\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}